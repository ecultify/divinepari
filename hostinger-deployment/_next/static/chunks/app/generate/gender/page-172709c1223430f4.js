(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{2099:(e,t,r)=>{"use strict";r.d(t,{MH:()=>g,Pn:()=>s,Vh:()=>o,ai:()=>u,f6:()=>i,pR:()=>l,ps:()=>n});let a=(0,r(4982).UU)("https://nuoizrqsnxoldzcvwszu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51b2l6cnFzbnhvbGR6Y3Z3c3p1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNTAwOTAsImV4cCI6MjA2NTgyNjA5MH0.QBqYuv2uxdNiakLzrW_CosJnN0vTvTwlGT2UvAZFYlY"),n=async e=>{try{let{data:t,error:r}=await a.from("user_sessions").insert([{session_id:e}]).select();if(r)throw r;return t}catch(e){return console.error("Error tracking user session:",e),null}},s=async(e,t,r)=>{try{let{data:n,error:s}=await a.from("user_journey").insert([{session_id:e,step:t,data:r,timestamp:new Date().toISOString()}]).select();if(s)throw s;return n}catch(e){return console.error("Error tracking user step:",e),null}},o=async(e,t)=>{try{let{data:r,error:n}=await a.from("generation_results").insert([{session_id:e,...t,created_at:new Date().toISOString()}]).select();if(n)throw n;return r}catch(e){return console.error("Error tracking generation result:",e),null}},l=async(e,t)=>{try{let{data:r,error:n}=await a.from("generation_results").update(t).eq("session_id",e).select();if(n)throw n;return r}catch(e){return console.error("Error updating generation result:",e),null}},i=()=>"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),c=async(e,t,r)=>{try{let n="user_photo"===r?"user-photos":"generated-posters",s=e instanceof File?e.name.split(".").pop():"jpg",o="".concat(t,"_").concat(Date.now(),".").concat(s),l="".concat(r,"/").concat(o),{data:i,error:c}=await a.storage.from(n).upload(l,e);if(c)return console.error("Error uploading image:",c),null;let{data:{publicUrl:d}}=a.storage.from(n).getPublicUrl(l);return{url:d,path:l}}catch(e){return console.error("Error in uploadImageToStorage:",e),null}},d=async(e,t,r,n,s,o)=>{try{let l={session_id:e,image_type:t,original_filename:o||(s instanceof File?s.name:void 0),storage_path:r,storage_url:n,file_size:null==s?void 0:s.size,mime_type:null==s?void 0:s.type,upload_status:"uploaded"},{data:i,error:c}=await a.from("image_storage").insert([l]).select();if(c)throw c;return i}catch(e){return console.error("Error tracking image storage:",e),null}},m=e=>{let t=e.replace(/^data:image\/[a-z]+;base64,/,""),r=window.atob(t),a=new Uint8Array(r.length);for(let e=0;e<r.length;e++)a[e]=r.charCodeAt(e);return new Blob([a],{type:"image/jpeg"})},u=async(e,t,r,a)=>{try{let n=m(e),s=await c(n,t,r);return s&&await d(t,r,s.path,s.url,n,a),s}catch(e){return console.error("Error uploading base64 image:",e),null}},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generated_poster",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"direct_download";try{let n={session_id:e,image_type:t,download_method:r,user_agent:"undefined"!=typeof navigator?navigator.userAgent:void 0},{data:s,error:o}=await a.from("download_tracking").insert([n]).select();if(o)throw o;return s}catch(e){return console.error("Error tracking download:",e),null}}},8326:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),n=r(2115),s=r(2099);function o(){let[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("sessionId");e||(e=(0,s.f6)(),localStorage.setItem("sessionId",e),await (0,s.ps)(e)),o(e),await (0,s.Pn)(e,"gender_selection",{page:"gender_selection",timestamp:new Date().toISOString()})})()},[]);let l=async e=>{t(e),r&&await (0,s.Pn)(r,"gender_selection",{selected_gender:e,action:"gender_selected",timestamp:new Date().toISOString()})},i=async()=>{e&&r&&(console.log("Selected gender:",e),await (0,s.Pn)(r,"gender_selection",{selected_gender:e,action:"submit_gender",next_page:"poster_selection",timestamp:new Date().toISOString()}),localStorage.setItem("selectedGender",e),window.location.href="/generate/poster?gender=".concat(e))};return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("section",{className:"relative w-full bg-no-repeat bg-center min-h-screen",style:{backgroundImage:"url('/images/secondpage/Desktop.png')",backgroundSize:"cover"},children:[(0,a.jsx)("div",{className:"absolute inset-0 block md:hidden bg-no-repeat bg-center",style:{backgroundImage:"url('/images/mobile/mobile.png')",backgroundSize:"cover"}}),(0,a.jsxs)("div",{className:"relative z-10 w-full h-full flex flex-col px-4 md:px-6 py-6",children:[(0,a.jsx)("div",{className:"flex justify-center md:justify-start mb-8",children:(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"transition-all duration-200 hover:opacity-80",children:(0,a.jsx)("img",{src:"/images/landing/normalimages/parimatch.svg",alt:"Parimatch Logo",className:"h-16 md:h-16"})})}),(0,a.jsx)("div",{className:"flex justify-center mb-4 md:mb-6",children:(0,a.jsx)("div",{className:"flex items-center",children:[1,2,3,4].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 md:w-8 md:h-8 rounded-full border-2 flex items-center justify-center font-bold font-poppins text-sm md:text-sm",style:{borderColor:1===e||2===e?"#F8FF13":"white",backgroundColor:1===e||2===e?"#F8FF13":"transparent",color:1===e||2===e?"black":"white"},children:e}),t<3&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-2 md:w-2"}),(0,a.jsx)("div",{className:"w-8 md:w-8 h-0.5 bg-white"}),(0,a.jsx)("div",{className:"w-2 md:w-2"})]})]},e))})}),(0,a.jsx)("div",{className:"flex justify-center items-center flex-1",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl md:max-w-2xl px-8 md:px-12 py-12 md:py-8 rounded-lg relative",style:{border:"2px solid transparent",backgroundImage:"linear-gradient(#111112, #111112), linear-gradient(45deg, #8F9093, #C0C4C8, #BDBDBD, #959FA7, #666666)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/generate",className:"absolute top-4 left-4 transition-all duration-200 hover:opacity-75",children:(0,a.jsx)("img",{src:"/images/icons/backbutton.png",alt:"Back",className:"w-8 h-8"})}),(0,a.jsx)("h2",{className:"text-white text-lg md:text-xl font-medium text-center mb-8 md:mb-6 font-poppins mt-16 md:mt-0",children:"Select your gender"}),(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-8 md:space-y-6 mt-16 md:mt-12",children:[(0,a.jsx)("button",{onClick:()=>l("male"),className:"w-64 md:w-80 h-20 flex items-center justify-center space-x-4 font-normal text-2xl uppercase tracking-wide transition-all duration-200 hover:scale-105 font-poppins",style:{background:"male"===e?"rgba(248, 255, 19, 0.14)":"#4A4A4A",border:"male"===e?"2px solid #F8FF13":"2px solid transparent",color:"male"===e?"#F8FF13":"black",borderRadius:"5px"},children:(0,a.jsxs)("span",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-3xl",children:"♂"}),(0,a.jsx)("span",{children:"MALE"})]})}),(0,a.jsx)("button",{onClick:()=>l("female"),className:"w-64 md:w-80 h-20 flex items-center justify-center space-x-4 font-normal text-2xl uppercase tracking-wide transition-all duration-200 hover:scale-105 font-poppins",style:{background:"female"===e?"rgba(248, 255, 19, 0.14)":"#4A4A4A",border:"female"===e?"2px solid #F8FF13":"2px solid transparent",color:"female"===e?"#F8FF13":"black",borderRadius:"5px"},children:(0,a.jsxs)("span",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-3xl",children:"♀"}),(0,a.jsx)("span",{children:"FEMALE"})]})})]}),(0,a.jsx)("div",{className:"mt-16 md:mt-12 flex justify-center",children:(0,a.jsx)("button",{onClick:i,disabled:!e,className:"px-16 py-3 font-normal text-lg uppercase tracking-wide transform -skew-x-12 transition-all duration-200 font-poppins",style:{background:e?"#F8FF13":"#585858",color:"black",border:e?"0.5px solid transparent":"none",backgroundImage:e?"linear-gradient(#F8FF13, #F8FF13), linear-gradient(45deg, #8F9093, #C0C4C8, #BDBDBD, #959FA7, #666666)":"none",backgroundOrigin:e?"border-box":"initial",backgroundClip:e?"padding-box, border-box":"initial",cursor:e?"pointer":"not-allowed",opacity:e?1:.7},children:(0,a.jsx)("span",{className:"block transform skew-x-12",children:"SUBMIT"})})})]})})]})]})})}},9192:(e,t,r)=>{Promise.resolve().then(r.bind(r,8326))}},e=>{var t=t=>e(e.s=t);e.O(0,[982,441,684,358],()=>t(9192)),_N_E=e.O()}]);